---
import "@styles/fonts.css";

export interface Props {
    title: string;
}

const { title } = Astro.props as Props;
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <meta name="darkreader-lock" />
        <link rel="icon" type="image/x-icon" href="/favicon.ico" />
        <title>{title}</title>

        <script>
            window.addEventListener("load", () => document.body.classList.remove("preload"));
        </script>
    </head>

    <body class="preload">
        <main>
            <slot />
        </main>
        <style lang="scss" is:global>
            :root {
                --font-family-sans: ibm-plex-sans, sans-serif;
                --font-family-mono: fira-code, monospace;

                --font-size-xs: 0.75rem;
                --font-size-sm: 0.9rem;
                --font-size-base: 1rem;
                --font-size-md: 1.5rem;
                --font-size-lg: 1.75rem;
                --font-size-xl: 3rem;

                --font-size-code-sm: 0.9rem;
                --font-size-code-base: 0.95rem;

                --white: hsla(0, 0%, 100%, 1);
                --lavender-blush: hsla(342, 32%, 92%, 1);
                --fiery-rose: hsla(353, 88%, 68%, 1);
                --fiery-rose-dark: hsla(353, 88%, 58%, 1);
                --medium-purple: hsla(249, 100%, 75%, 1);
                --black-pearl: hsla(200, 6%, 10%, 1);
                --raisin-black: hsla(240, 7%, 19%, 1);
                --black-coffee: hsl(266, 11%, 24%);
                --topaz: hsla(272, 4%, 80%, 1);

                --color-bg: var(--black-pearl);
                --color-text: var(--topaz);
                --color-text-important: var(--white);
                --primary-accent: var(--fiery-rose);
                --secondary-accent: var(--medium-purple);
            }

            * {
                box-sizing: border-box;
            }

            html {
                font-family: var(--font-family-sans);
                font-size: 1rem;
                color: var(--color-text);
                background-color: var(--color-bg);
            }

            body {
                margin: 0;
            }

            main {
                margin: auto;
                padding: 2rem;
                width: 100%;
                max-width: 80ch;
            }

            h1 {
                font-size: var(--font-size-xl);
                color: var(--color-text-important);
                font-weight: 800;
                margin: 2rem 0 0.5rem 0;

                a {
                    text-decoration: none;
                }
            }

            h2 {
                font-size: var(--font-size-lg);
                color: var(--color-text-important);
                font-weight: 800;
                margin: 2rem 0 0.5rem 0;

                a {
                    text-decoration: none;
                }
            }

            h3 {
                font-size: var(--font-size-md);
                font-weight: 800;
                margin: 2rem 0 0.5rem 0;

                a {
                    text-decoration: none;
                }
            }

            h4 {
                font-size: var(--font-size-base);
                font-weight: 800;
                color: var(--color-text-important);
                margin: 2rem 0 0.5rem 0;

                a {
                    text-decoration: none;
                }
            }

            b {
                color: var(--color-text-important);
                font-weight: 600;
            }

            em {
                color: var(--color-text-important);
                font-style: normal;
            }

            a {
                color: inherit;
                transition: 200ms color;

                &:hover,
                &:active {
                    color: var(--primary-accent);
                }
            }

            code {
                font-family: var(--font-family-mono);
            }

            p code {
                font-size: var(--font-size-code-base);
                padding: 0.1rem;
                border-radius: 0.25rem;
                background-color: rgba(255, 255, 255, 0.05);
            }

            .with-gradient {
                background: linear-gradient(
                    60deg,
                    var(--primary-accent),
                    var(--secondary-accent),
                    var(--primary-accent),
                    var(--secondary-accent),
                    var(--primary-accent),
                    var(--secondary-accent),
                    var(--primary-accent),
                    var(--secondary-accent),
                    var(--primary-accent),
                    var(--secondary-accent)
                );
                background-size: 1000% 1000%;
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                animation: gradient-animation 120s ease infinite;
            }

            @keyframes gradient-animation {
                0% {
                    background-position: 0% 50%;
                }
                50% {
                    background-position: 100% 50%;
                }
                100% {
                    background-position: 0% 50%;
                }
            }

            .preload * {
                -webkit-transition: none !important;
                -moz-transition: none !important;
                -ms-transition: none !important;
                -o-transition: none !important;
            }

            figure[data-rehype-pretty-code-figure] {
                margin: 0;

                [data-rehype-pretty-code-title] {
                    font-family: var(--font-family-mono);
                    font-size: var(--font-size-code-sm);
                    padding: 0.5rem 1rem;
                    background-color: rgba(0, 0, 0, 0.2) !important;
                    border-radius: 1rem 1rem 0 0;
                }

                [data-rehype-pretty-code-caption] {
                    font-size: var(--font-size-xs);
                    padding: 0.5rem 1rem;
                    text-align: center;
                }

                pre {
                    font-family: var(--font-family-mono);
                    font-size: var(--font-size-code-base);
                    margin: 0;

                    code {
                        overflow-x: auto;
                        padding: 1rem;
                        border-radius: 1rem;
                        background-color: rgba(0, 0, 0, 0.1) !important;

                        [data-highlighted-line] {
                            background-color: rgba(255, 255, 255, 0.025);
                        }

                        [data-highlighted-chars] {
                            color: var(--medium-purple);
                            background-color: transparent;
                        }
                    }
                }

                [data-rehype-pretty-code-title] + pre > code {
                    border-radius: 0 0 1rem 1rem;
                }

                .rehype-pretty-copy {
                    margin: 1rem;
                    right: 0;
                    top: 0;
                    background-color: transparent;
                    border-color: transparent;
                }

                [data-language="diagram"] {
                    line-height: 1.25em;
                }

                [data-language="sprite"] {
                    line-height: 0.6em;
                }
            }
        </style>
    </body>
</html>
